<!doctype html>
<html>
<head><title>darth-fader</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link id="luckiestFont" href="https://fonts.googleapis.com/css?family=Luckiest+Guy" rel="stylesheet">
<link id="demoStyles" rel="stylesheet" type="text/css" href="demoStyles.css">
<link id="darthFaderStyles" rel="stylesheet" type="text/css" href="darthFaderStyles.css">
</head>
<body>
    
<div id="holder">
    <div id="introQ" class="qr" style="text-align: center;">
        <hr style="width:93%">
        <i id="ques" style="font-size:27px;font-family:'luckiest guy'">
            How do you feel about surveys?
        </i><br>
            <svg id="svg0"
             viewbox="0 0 220 340"
             XXXstyle="
                position:relative;
                width:220px;
                height:340;
                overflow: visible;
                border: 0px solid #ea0;
             "
             xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
            >
                <!--defs>
                    <pattern
                     id="mig1"
                     patternUnits="userSpaceOnUse"
                     x="-20"
                     y="0"
                     height="200"
                     width="200"
                    >
                        <image
                         xlink:href="plaid0.jpg"
                         height="200"
                         width="200"
                        />
                    </pattern>
                </defs-->
                <g
                 transform="scale(2.2) translate(-50 -25)"
                 fill-rule="evenOdd"
                >
                    <path
                     id="boxPath"
                     class="srv srv-path"
                     style="
                        stroke: rgba(0,0,0,1);
                        stroke-width: 10;
                        stroke-linejoin: miter;
                        stroke-miterlimit: 10;
                        fill: none;
                     "
                    />
                    <path
                     id="mouthPath"
                     class="srv srv-path"
                     style="
                        fill: #000;
                     "
                    />
                </g>
    
            </svg>
            
        <div id="faceFaderDiv" class="qr"
        style="text-align:center;"
        >
            <input
             id="faceFader"
             type="range"
             class="darth-fader"
             data-value="0.5"
             data-snap="facePaths"
             data-thumb="colors"
             data-fades='{
                "levels" : ["-100", 0, "100", 1],
                "colors" : [
                    "rgb(128, 0, 128)", 0,
                    "rgb(128, 0, 128)", 0.2,
                    "rgb(200, 200, 200)", 0.5,
                    "rgb(255, 180, 0)", 0.6,
                    "rgb(255, 180, 0)", 1
                ],
                "facePaths" : [
                    "M0 40Q72 100 0 160Q100 122 200 160Q128 100 200 40Q100 72 0 40Z", 0,
                    "M0 40Q72 100 0 160Q100 122 200 160Q128 100 200 40Q100 72 0 40Z", 0.05,
                    "M50 50Q45 100 50 150Q100 155 150 150Q155 100 150 50Q100 45 50 50Z", 0.5,
                    "M50 0Q72 100 50 180Q100 220 150 180Q128 100 150 0Q100 20 50 0Z", 1
                ],
                "mouthPaths" : [
                    "M52 75q35 37 88 0q26 23 0 46q-28 -50 -86 0q-20 -20 -3 -43l-10 8q6 -18 18 -13Z", 0,
                    "M52 75q47 30 88 0q24 23 0 46q-43 -43 -86 0q-15 -20 -3 -43l-10 8q6 -18 18 -13Z", 0.05,
                    "M72 80q30 5 63 0q-8 20 0 22q-30 3 -64 0q0 -9 -3 -18l-8 4q5 -3 14 -14Z", 0.5,
                    "M75 50q20 5 57 0q-20 60 0 92q-30 30 -60 0q4 -60 0 -88l-12 2q10 -2 18 -14Z", 1
                ],
                "strokeColors" : [
                    "rgb(0,0,0)", 0,
                    "rgb(80,0,80)", 0.2,
                    "rgb(80,0,80)", 0.48,
                    "rgb(80,80,80)", 0.5,
                    "rgb(208,111,15)", 0.57,
                    "rgb(208,111,15)", 1
                ]
             }'
            />
        </div>
        <hr style="width:93%">
    </div>
    <script id="faceFaderScript">
    
    let Q = {};
    'faceFader boxPath mouthPath'.split(' ').forEach(obj => {
        
        Q[obj] = document.getElementById(obj);
    
    });

    Q.faceFader.addEventListener('valsChanged', e => {
        Q.boxPath.setAttributeNS(null, 'd', Q.faceFader.vals.facePaths);
        Q.boxPath.style.fill = Q.faceFader.vals.colors;
        //Q.boxPath.style.stroke = Q.faceFader.vals.strokeColors;
        //Q.mouthPath.style.fill = Q.faceFader.vals.strokeColors;
        Q.mouthPath.setAttributeNS(null, 'd', Q.faceFader.vals.mouthPaths);
    });

    </script>
    <div id="intro" class="qr">
        On a scale from angry to wacky-faced,
        accurate data collection
        <i>strongly disagrees</i> with this popular
        radio fiasco:
        <br><br>
    </div>
    <div id="fiascoRadio" class="strong-disagree">
        <div>
            <label for="fiasco0">
            Strongly<br>Disagree
            <br>
            </label>
            <input id="fiasco0" type="radio" name="fiasco" />
        </div>
        <div>
            <label for="fiasco1">
            <br>Disagree
            <br>
            </label>
            <input id="fiasco1" type="radio" name="fiasco" />
        </div>
        <div>
            <label for="fiasco2">
            Don't<br>Know
            <br>
            </label>
            <input id="fiasco2" type="radio" name="fiasco" />
        </div>
        <div>
            <label for="fiasco3">
            <br>Agree
            <br>
            </label>
            <input id="fiasco3" type="radio" name="fiasco" />
        </div>
        <div>
            <label for="fiasco4">
            Strong<br>Algae
            <br>
            </label>
            <input id="fiasco4" type="radio" name="fiasco" />
        </div>
    </div>
    <div class="qr">
        <br>
        Restricting sampled opinion to only five
        fixed integers
        exposes statistical analysis to errors of 
        false-significance.
    </div>
    <div class="qr">
        Possibly, allowing participants to gauge their
        opinion on a sliding scale, and collecting 
        data at a higher degree of precision, would 
        expose errors in other methods of surveying,
        or permit more meaningful results.
    </div>
    <div class="qr">
            This <i>darth-fader</i> script,
            and its associated css
            file, creates this default
            sliding-scale input device.
            from the following code
    </div>
    <div id="defaultFaderDiv" class="qa" style="border:1px solid;">
        <div>
            <pre><code>
&lt;input
 class="darth-fader"
/&gt;
            </code></pre>
        </div>
        <div>
            <input class="darth-fader" />
        </div>
    </div>
    <div class="qr">
        The darth-fader input is accurate, as can be,
        to 0.001 increments, and accepts 
        <i>nearly anything</i> as potential 
        numerically-fadeable inputs through its
        data-fades parameter.
    </div>
    <div class="qr">
        This customized example fader uses a well-formated
        JSON string to set up fades for
        level-values from negative to positive
        one hundred, and colors from red to green
        [through grey]. It also uses data-params
        to set an initial value for the fader and 
        a decimal-fix.
    </div>
    <div id="customFaderDiv" class="qa">
        <div>
            <pre><code>
&lt;input
 id="customFader"
 class="darth-fader"
 data-value="0.75"
 data-fix="2"
 data-fades='{
    "levels" : ["-100%", 0, "100%", 1],
    "colors" : [
        "rgb(200, 0, 0)",     0.0,
        "rgb(136, 136, 136)", 0.5,
        "rgb(0, 200, 0)" ,    1
    ]
 }'
/&gt;
            </code></pre>
        </div>
        <div>
            <div id="customOutput" class="qr" style="text-align:center;font-family:'luckiest guy';font-size:30px;"></div>
<input
 id="customFader"
 type="range"
 class="darth-fader"
 data-value="0.75"
 data-fix="2"
 data-fades='{
    "levels" : ["-100%", 0, "100%", 1],
    "colors" : [
        "rgb(200, 0, 0)",     0.0,
        "rgb(136, 136, 136)", 0.5,
        "rgb(0, 200, 0)" ,    1
    ]
 }'
/>
        </div>
    </div>
    <script id="customFaderScript">
        let cFade = document.getElementById('customFader');
        let cOut = document.getElementById('customOutput');
    
        cFade.addEventListener('valsChanged', e => {
            
            //cOut.innerHTML = (cFade.vals.levels < 0 ? '&nbsp;' : '&nbsp;&nbsp;&nbsp;') + parseFloat(cFade.vals.levels).toFixed(2) + '%';
            cOut.innerHTML = cFade.vals.levels;
            cFade.style.setProperty('--thumb-color', cFade.vals.colors);
            cOut.style.color = cFade.vals.colors;
    
        });
    </script>
    <div class="qr">
        As many fade values as needed are entered as 
        arrays, indicating a string of a value
        followed by the stop-point percentage
        at which the fader should reach that value.
        <br><br>
        darth-fader will search through any string to 
        find numerical values, and fade between them 
        at the given points.
    </div>
    <div class="qr">
        This code would fade between black and white.
        <br><br>
        <pre><code>
data-fades='{ // the data-fades param in the html

    "colors" : [
  // ^^^^^
  // name of fade is 'colors'
    
        "rbg(0, 0, 0)",          0,
      //  ^^^^^^^^^^            ^^^
      // string for black ...  at 0%
        
        "rgb(255, 255, 255)",     1
      //  ^^^^^^^^^^            ^^^
      // string for white ...  at 100%
    ]
}'
        </code></pre>
    </div>
    <div class="qr">
        This code creates a fade between svg paths.
        <br><br>
    </div>
    <div id="svgFaderSampleDiv" class="qa">
        <div>
        <pre><code>
            
data-fades='{

    // values accessed through darth-vader-obj.vals.paths
    "paths" : [
    
        //svg path d-string     ... at 0%
        "M50 50h100v100h-100z",      0,
        
        //changes to this path  ... at 25%
        "M10 80h80v1200h-130z",      0.25,
        
        //changes to this path  ... at 80%
        "M10 80h280v2900h-30z",      0.8,
        
        //and this path ...  at 100% slide-over
        "M-20 60h92v101h22z",        1
        
    ]
}'
        </code></pre>
        </div>
        <div>
            <svg id=""
             viewbox="0 0 200 300"
             xmlns="http://www.w3.org/2000/svg"
             style="
                 background-color: #ea0;
             "
            ><g>
                <path id="svgSampPath" fill="#c30" />
            </g></svg>
            <input
             id="svgFaderSamp"
             class="darth-fader"
             data-value="0"
             data-snap="paths"
             data-fades='{
                "paths" : [
                    "M50 50h100v100h-100z", 0,
                    "M10 80h80v1200h-130z", 0.25,
                    "M10 80h280v2900h-30z", 0.8,
                    "M-20 60h92v101h22z", 1
                ]
             }'
            /> 
            <script id="sampSVGscript">
let svgFader = document.getElementById('svgFaderSamp');
let sampPath = document.getElementById('svgSampPath');

svgFader.addEventListener('valsChanged', e => {
    sampPath.setAttributeNS(null, 'd', svgFader.vals.paths);
});
            </script>
        </div>
    </div>
    <div class="qr">
        All darth-fader objects must have a value 
        for zero% and for one-hundred%
        <br><br>
        As many fade arrays as possible may be 
        entered in a single input object.
        <br><br>
        The fader will attempt to parse out,
        and fade between, any numbers it encounters.
        The following code would actually function...
        <br><br>
        <pre><code>
data-fix="2"            
data-fades='{
    "story" : [
        "In 3 weeks, I will lose $10 and 8 pounds", 0,
        "In 9 weeks, I will lose $300 and 20 pounds", 1  
    ]
}'
        </code></pre>
        <br>
        ... as this example shows:
    </div>
    <div class="qa">
        <div>
            <input 
             id="storyFader"
             type="range"
             class="darth-fader"
             data-value="0"
             data-fix="2"
             data-fades='{
                "story" : [
                     "in 3 weeks, I will lose $10 <br> and 8 pounds", 0,
                     "in 9 weeks, I will lose $300 <br> and 20 pounds", 1
                ],
                "colors" : [
                     "rgb(238, 170, 0)", 0,
                     "rgb(255, 255, 255)", 0.5,
                     "rgb(200, 0, 200)", 1
                ]
             }'
            />
        </div>
        <div id="storyOut" style="font-size:12px"></div>
        <script>
let sFade = document.getElementById('storyFader');
let sOut = document.getElementById('storyOut');
sFade.addEventListener('valsChanged', e => {
    
    sOut.innerHTML = sFade.vals.story;
    sFade.style.setProperty('--thumb-color', sFade.vals.colors);
    
});
        </script>
    </div>
    <div class="qr">
        The resulting value is accessed from the 
        darth-fader-object.vals array, during the 
        custom event <i>valsChanged</i>
    </div>
    <div class="qr">
        <pre><code>
            
&lt;input 
 id="storyFader"
 type="range"
 class="darth-fader"
 data-fades='{
    "story" : [
        "In 3 weeks, I will lose $10 and 8 pounds", 0,
        "In 9 weeks, I will lose $300 and 20 pounds", 1
    ],
    "colors" : [
        "rgb(200, 128, 0)", 0,
        "rgb(255, 255, 255)", 0.5,
        "rgb(200, 0, 200)", 1
    ]
 }'
/&gt;
&lt;div id="storyOut"&gt;&lt;/div&gt;
&lt;script&gt;

let sFade = document.getElementById('storyFader');
let sOut = document.getElementById('storyOut');

sFade.addEventListener('valsChanged', e => {
    
    sOut.innerHTML = sFade.vals.story;
    sFade.setProperty('--thumb-color', sFade.vals.colors);
    
});

&lt;/script&gt;
            
        </code></pre>
    </div>
    <div class="qr">
        Silly enough to <i>want</i> snaps?
        darth-fader takes a snap parameter
        and creates snaps at the stop-points 
        of the specified fade name:
        <br><br>
        data-snap="name_of_fade_to_snap_to"
        <br><br>
        Want the drag-dot to color itself?
        use the data-thumb param and set it 
        equal to the fade that should provide
        the color values.
    </div>
    <div class="qr">
        If no data-fade is created in the html,
        darth-fader creates two default fade arrays
        of its own: <i>colors</i> and <i>levels</i>
        which graduate between yellow and purple
        [through white]
        for the faderObject.vals.colors and between 
        negative and positive one hundred for 
        faderObject.vals.levels
        <br><br>
    </div>
    <div id="snapSampDiv" class="qr">
       This code creates a fader that colors itself 
       and snaps to the stop points for the 
       default levels fade - which will be at 50%
    </div>
    <div class="qa">
        <div>
            <pre><code>
&lt;input 
 id="snapFader"
 class="darth-fader"
 data-thumb="colors"
 data-snap="levels"
/&gt;
            </code></pre>
        </div>
        <div>
            <input 
             id="snapFader"
             class="darth-fader"
             data-thumb="colors"
             data-snap="levels"
            />
        </div>
    </div>
    <div class="qr">
        As a form input element, darth-faders create 
        a hidden input for each specified fade.  That 
        input has the name and id of
        <i>obj.id_fadeName</i>, and will get submitted
        with the form.  Submitting the following example 
        will display the form results in the location
        bar.
    
    </div>
    <div id="sampFormDiv" class="qr">
    <form method="get" action="#">
        <div class="qa">
            <div>
                <input 
                 id="postTest"
                 class="darth-fader"
                 data-thumb="colors"
                 data-snap="levels"
                 data-fix="2"
                />
            </div>
            <div>
                <input
                 type="submit"
                 style="
                     width: 100%;
                     height: 50px;
                     font-size: 25px;
                 "
                 value="bite here"
                />
            </div>
        </div>
    </form>
        
    </div>
    

    <div id="signature" class="qr" style="font-family:'luckiest guy';text-align:right;">
        <i>~queviva</i>
    </div>

</div>

</body>
<script id="darthFaderScript" src="darthFaderScript.js"></script>
</html>
